<div class="container">
    <title>Déclarer un probleme</title>
    <br/>
    <div class="card">
    <div class="card-header text-white bg-secondary">
    Déclarer un problème
    </div>
    <div class="card-body">
    <h5 class="card-title">Remplisser</h5>
    <div class="card-text">
        <form
        novalidate
        (ngSubmit)="save()"
        [formGroup]="problemeForm">
                    <div class="form-group row">
                <label for="prenomProblemeId" class="col-md-2 col-form-label text-right" >Prénom:</label>
                <div class="col-dm-10">
                    <input class="form-control"
                    id="prenomProblemeId"
                    type="text"  
                    id="floatingInput" 
                    placeholder="Votre Prénom ici (obligatoire)"
                    formControlName="prenomProbleme"
                    [ngClass]="{'is-invalid': (problemeForm.get('prenomProbleme').touched ||
                    problemeForm.get('prenomProbleme').dirty) && 
                    (!problemeForm.get('prenomProbleme').valid),
                    'is-valid':(problemeForm.get('prenomProbleme').touched ||
                    problemeForm.get('prenomProbleme').dirty) && 
                    problemeForm.get('prenomProbleme').valid }"
                    />

                    <span class="form-text" *ngIf="(problemeForm.get('prenomProbleme').touched ||
                       problemeForm.get('prenomProbleme').dirty) && 
                       problemeForm.get('prenomProbleme').errors">
                       <span *ngIf="problemeForm.get('prenomProbleme').errors.nbreCaracteresInsuffisants">
                           <small class="text-muted"> 
                              Indiquer aumoin 3 caracteres
                          </small>
                        </span>
                        <span *ngIf="problemeForm.get('prenomProbleme').errors.required">
                            <small class="text-muted"> 
                               Merci de saisir votre prenom
                           </small>
                         </span>
                    </span>
                </div>
              </div>

              <div class="form-group row">
                <label for="nomProblemeId" class="col-md-2 col-form-label text-right" >Nom:</label>
                <div class="col-dm-10">
                    <input class="form-control"
                    id="nomProblemeId"
                    type="text"  
                    id="floatingInput" 
                    placeholder="Votre nom ici (obligatoire)"
                    formControlName="nomProbleme"
                    [ngClass]="{'is-invalid': (problemeForm.get('nomProbleme').touched ||
                    problemeForm.get('nomProbleme').dirty) && 
                    (!problemeForm.get('nomProbleme').valid),
                    'is-valid':(problemeForm.get('nomProbleme').touched ||
                    problemeForm.get('nomProbleme').dirty) && 
                    problemeForm.get('nomProbleme').valid }"
                    />

                    <span class="form-text" *ngIf="(problemeForm.get('nomProbleme').touched ||
                       problemeForm.get('nomProbleme').dirty) && 
                       problemeForm.get('nomProbleme').errors">
                       <span *ngIf="problemeForm.get('nomProbleme').errors.nbreCaracteresInsuffisants">
                           <small class="text-muted"> 
                              Indiquer aumoin 3 caracteres
                          </small>
                        </span>
                        <span *ngIf="problemeForm.get('nomProbleme').errors.required">
                            <small class="text-muted"> 
                               Merci de saisir votre nom
                           </small>
                         </span>
                    </span>
                </div>
              </div>  
              
              <div class="form-group row">
                  <label for="noProblemeId" class="col-md-2 col-form-label" >Type de probleme:</label>
                  <div class="col-sm-10">
                     <select class="form-control"
                      formControlName="noProbleme"
                      id="noProblemeId"
                      type="text"
                      placeholder="Sélectionner un type de probleme (obligatoire)"
                        [ngClass]="{'is-invalid': (problemeForm.get('noProbleme').touched ||
                        problemeForm.get('noProbleme').dirty) &&
                        !problemeForm.get('noProbleme').valid,
                        'is-valid': (problemeForm.get('noProbleme').touched ||
                        problemeForm.get('noProbleme').dirty) &&
                        problemeForm.get('noProbleme').valid }"
                        >
                        
                      <option value="">Sélectionner un type de probleme (obligatoire)</option>
                      <option *ngFor="let prob of typesproblemesProblemes"   [value]="prob.id"> {{prob.descriptionTypeProbleme}}       </option>
                    </select>
                    <span class="form-text" *ngIf="(problemeForm.get('noProbleme').touched || 
                    problemeForm.get('noProbleme').dirty) &&
                    problemeForm.get('noProbleme').errors">
 
                    <span *ngIf="problemeForm.get('noProbleme').errors.required">
                      <small class="text-muted">
                          Merci de sélectionner un type de problème.
                      </small>
                    </span>
                </span>
                  </div> 

              </div>
        </form>
    </div>
    </div>
    </div>
   </div>  